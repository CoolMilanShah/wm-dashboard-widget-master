(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[13],{114:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n,l=a(126),r=a(127).a.div(n||(n=Object(l.a)(["\n  width:10px;\n  height:auto;\n  display:inline-block;\n}"])))},115:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u}));var n=a(21),l=a(1),r=a.n(l),i=a(170),c=a(171),o={control:function(e){return Object(n.a)(Object(n.a)({},e),{},{width:150})},container:function(e){return Object(n.a)(Object(n.a)({},e),{},{display:"inline-block",textAlign:"left"})}},s=function(e){return r.a.createElement(c.a,{isMulti:e.isMulti,styles:o,value:e.value,onChange:e.onSelect,options:e.list.map((function(e){return{value:e,label:e}})),isDisabled:e.isDisabled,isClearable:e.isClearable})},u=function(e){return r.a.createElement(i.a,{isClearable:!0,styles:o,value:e.value,onChange:e.onSelect,options:e.list.map((function(e){return{value:e,label:e}})),isDisabled:e.isDisabled})}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(22),l=a(1),r=a.n(l),i=a(95),c=a(114),o=a(115),s=function(e){var t=e.filterobject,a=e.filtervalue;return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,Object.keys(t).map((function(l){return r.a.createElement("div",{key:t[l].title,style:{display:"inline-block"}},r.a.createElement("label",null,l,":"),r.a.createElement(c.a,null),r.a.createElement(o.b,Object.assign({list:t[l].list,title:t[l].title,value:{label:a[l],value:a[l]},onSelect:function(t){return function(t,a){e.onSelectDropDown&&e.onSelectDropDown(Object(n.a)({},t,a.value))}(l,t)}},e)),r.a.createElement(c.a,null))}))),r.a.createElement("div",null,r.a.createElement(i.a,{onClick:e.onResetSelection},"Reset")))}},119:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(21),l=a(1),r=a.n(l),i=a(411),c=a(395),o=a(396),s=a(104),u=a(105),m=a(106),d=a(354),f=a(95),p=a(129),b=a.n(p),v=a(172),h=a(114),g=a(118),y=function(e){var t=e.initialState,a="Submit",l=!0;e.deleteflag&&(a="Delete"),e.editflag&&(a="Save");var p=e.filtervalue||[];return e.filterComponent&&Object.keys(p).map((function(e){p[e].search("Select")||(l=!1)})),r.a.createElement(i.a,{isOpen:e.open,size:"lg"},r.a.createElement(c.a,{toggle:e.ontoggle},e.titleVal),r.a.createElement(o.a,null,e.filterComponent?r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,{className:"mb-3"},r.a.createElement(d.a,null,r.a.createElement(g.a,e))))):null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,{className:"mb-3"},r.a.createElement(d.a,null,e.initialState?r.a.createElement(v.d,{initialValues:e.initialState,validationSchema:e.schemaValidation,onSubmit:function(t,a){var l=a.setSubmitting,r=a.resetForm;t=Object(n.a)(Object(n.a)({},t),{},{createdatetime:b()().toISOString()}),l(!0),fetch("http://localhost:9080/api/"+e.serviceName,{method:e.method,body:JSON.stringify(Object(n.a)(Object(n.a)({},t),p)),headers:{"Content-Type":"application/json"}}).then((function(a){a.status>=200&&a.status<300?a.json().then((function(a){if(0!==a.rowCount){switch(e.onClickSubmit(t),e.method){case"POST":alert("Insert Row operation successful");break;case"PUT":alert("Update Row operation successful"),e.ontoggle()}r()}else alert("No Rows Affected. Please check the Filter")})):a.json().then((function(e){return alert("There was an error, please try again, ".concat(e.reason))})),l(!1)})).catch((function(){alert("There was an error, please try again"),l(!1)}))}},(function(n){var i=n.isSubmitting,c=n.handleReset,o=n.dirty,s=n.errors;return r.a.createElement(v.c,null,Object.keys(t).map((function(t){return r.a.createElement("div",{key:t,style:{display:"inline-block",height:"100%"}},r.a.createElement(v.a,{name:t,render:function(e){return r.a.createElement("div",{style:{fontSize:"0.5em",color:"red",width:"200px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},e)}}),r.a.createElement(v.b,{name:t,component:e.component,editflag:e.editflag,deleteflag:e.deleteflag,disabled:e.disabled,disabledelement:e.disabledelement,filterobject:e.filterobject,filtervalue:p,column:e.column,initialstate:e.initialState,keyfield:e.keyfield,expensecategory:e.expenseCategory,vendorlist:e.vendorlist,selectionlist:e.selectionlist}))})),r.a.createElement("br",null),e.hidebutton?null:r.a.createElement("div",null,r.a.createElement(f.a,{color:"primary",type:"submit",disabled:Object.keys(s).length>0||!l||!e.deleteflag&&!o},a),r.a.createElement(h.a,null),r.a.createElement(f.a,{color:"secondary",onClick:c,disabled:!o||i},"Reset")," "))})):null))))))}},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s}));var n=a(21),l=a(120),r=a.n(l),i=a(121),c=function(){var e=Object(i.a)(r.a.mark((function e(t,a){var n,l,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(JSON.stringify(a)),e.next=3,fetch("http://localhost:9080/api/"+t+"?filterValue="+n);case 3:return l=e.sent,e.next=6,l.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(i.a)(r.a.mark((function e(t,a){var n,l,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(JSON.stringify(a)),e.next=3,fetch("http://localhost:9080/api/"+t+"?filterValue="+n);case 3:return l=e.sent,e.next=6,l.json();case 6:return i=e.sent,c=i.map((function(e){return Object.values(e)[0]})),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(i.a)(r.a.mark((function e(t,a,l){var i,o,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i="",o=[],s=[],u="",console.log(t),e.t0=t,e.next="Verticals"===e.t0?8:"Sub-Verticals"===e.t0?14:"Vendors"===e.t0?20:"Branch"===e.t0?26:32;break;case 8:return i="Sub-Verticals",e.next=11,c("managesubverticaldata",a);case 11:return o=e.sent,u="sub-vertical",e.abrupt("break",37);case 14:return i="Vendors",e.next=17,c("managevendordata",a);case 17:return o=e.sent,u="vendor",e.abrupt("break",37);case 20:return i="Company",e.next=23,c("managecompanydata",a);case 23:return o=e.sent,u="company",e.abrupt("break",37);case 26:return i="Branch",e.next=29,c("managebranchdata");case 29:return o=e.sent,u="branch",e.abrupt("break",37);case 32:return i="Verticals",e.next=35,c("manageverticaldata",a);case 35:o=e.sent,u="vertical";case 37:s=o.map((function(e){return e[u]})),l((function(e){var t=Object(n.a)({},e);t[i]=Object(n.a)(Object(n.a)({},t[i]),{},{list:s});for(var a=t[i].childType;a;)t[a]=Object(n.a)(Object(n.a)({},t[a]),{},{list:[]}),a=t[a].child||null;return t}));case 39:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},128:function(e,t,a){"use strict";var n=a(15),l=a(126),r=a(1),i=a.n(r),c=a(21),o=a(0),s=a.n(o),u=(Object(c.a)(Object(c.a)({},s.a),{},{ID:s.a.oneOfType([s.a.string,s.a.number]).isRequired,component:s.a.oneOfType([s.a.string,s.a.func]),date:s.a.oneOfType([s.a.instanceOf(Date),s.a.string])}),a(19)),m=a(22),d=a(3),f=a.n(d),p=["tag","className","type"],b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"},v=function(e){var t,a=e.tag,l=e.className,r=e.type,c=Object(n.a)(e,p),o=f()(Object(m.a)({},r,!!r),l);return t=a||(!a&&b[r]?b[r]:"p"),i.a.createElement(t,Object.assign({},c,{className:o}))};v.defaultProps={type:"p"};var h,g=v,y=a(127),j=a(97),E=a(98),O=a(95),S=a(6),C=["title","create","breadcrumbs","onClick","tag","className","children"],w=u.a.create("page"),k=y.a.div(h||(h=Object(l.a)(["\n  display: inline-block;\n"]))),D=function(e){var t=e.title,a=e.create,l=(e.breadcrumbs,e.onClick),r=e.tag,c=e.className,o=e.children,s=Object(n.a)(e,C),u=w.b("px-3",c);return i.a.createElement(r,Object.assign({className:u},s),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i.a.createElement(k,{className:w.e("header")},i.a.createElement(j.a,{light:!0,expand:!0},i.a.createElement(E.a,{navbar:!0,className:"mr-2"},i.a.createElement(O.a,{outline:!0,onClick:function(e){e.preventDefault(),e.stopPropagation(),document.querySelector(".cr-sidebar").classList.toggle("cr-sidebar--open")}},i.a.createElement(S.d,{size:25}))))),i.a.createElement(k,{className:w.e("header")},t&&"string"===typeof t?i.a.createElement(g,{type:"h4",className:w.e("title")},t):t),a?i.a.createElement(k,null,i.a.createElement(O.a,{color:"primary",value:"Create",onClick:l},"Create")):i.a.createElement("div",null)),o)};D.defaultProps={tag:"div",title:""};t.a=D},139:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(35),l=a(1);function r(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function i(){var e=Object(l.useState)(r()),t=Object(n.a)(e,2),a=t[0],i=t[1];return Object(l.useEffect)((function(){function e(){i(r())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}},140:function(e,t,a){"use strict";var n=a(22),l=a(21),r=a(35),i=a(1),c=a.n(i),o=a(119),s=a(411),u=a(395),m=a(396),d=a(104),f=a(105),p=a(106),b=a(354),v=a(95),h=a(114),g=function(e){var t={},a=Object(i.useState)(!1),n=Object(r.a)(a,2),o=n[0],g=n[1];e.selectedRows.map((function(e){Object.keys(e).map((function(a){t[a]||(t[a]=[]),t[a].push(e[a])}))}));return c.a.createElement(s.a,{isOpen:e.open,size:"lg"},c.a.createElement(u.a,{toggle:e.ontoggle},e.titleVal),c.a.createElement(m.a,null,c.a.createElement(d.a,null,c.a.createElement(f.a,null,c.a.createElement(p.a,{className:"mb-3"},c.a.createElement(b.a,null,c.a.createElement("div",{style:{paddingBottom:"10px"}},"Are you sure to delete ",e.selectedRows.length," rows?"),c.a.createElement("div",null,c.a.createElement(v.a,{color:"primary",type:"submit",onClick:function(){fetch("http://localhost:9080/api/"+e.serviceName,{method:"DELETE",body:JSON.stringify(Object(l.a)({},t)),headers:{"Content-Type":"application/json"}}).then((function(t){t.status>=200&&t.status<300?(g(!0),t.json().then((function(t){0!==t.rowCount?(e.onClickSubmit(),e.ontoggle(),alert("Delete Row operation successful")):(alert("No Rows Affected. Please check the Filter"),g(!1))}))):(alert("There was an error, please try again"),g(!1))}))},disabled:o},"Delete"),c.a.createElement(h.a,null),c.a.createElement(v.a,{color:"secondary",onClick:e.ontoggle},"Cancel"))))))))};a.d(t,"a",(function(){return y}));var y=function(e){var t=Object(i.useState)({Edit:e.editFlag,Delete:!e.editFlag}),a=Object(r.a)(t,2),s=a[0],u=a[1],m=e.updateType?Object(l.a)(Object(l.a)({},e.rowData),{},Object(n.a)({},"new "+e.keyfield,"")):Object(l.a)({},e.rowData);if(m.servicesavailed){var d;d=m.servicesavailed.split(",").map((function(e){if(""!==e)return{label:e.trim(),value:e.trim()}})),m.servicesavailed=d}var f=function(e){u(Object(l.a)(Object(l.a)({},s),{},Object(n.a)({},e.target.value,!s[e.target.value])))};return c.a.createElement("div",null,e.editFlag?c.a.createElement(o.a,{component:e.editComponent,disabledelement:e.disabledelement,editflag:!0,expenseCategory:e.expenseCategory,initialState:m,keyfield:e.keyfield,method:"PUT",open:s.Edit,serviceName:e.serviceName,titleVal:e.edittitle,ontoggle:function(){f({target:{value:"Edit"}})},filterComponent:!1,filterobject:e.filterobject,filtervalue:e.filtervalue,selectionlist:e.selectionlist,vendorlist:e.vendorlist,onClickSubmit:e.onClickSubmit,onResetSelection:e.onResetSelection,onSelectDropDown:e.onSelectDropDown}):c.a.createElement(g,{method:"DELETE",open:s.Delete,serviceName:e.serviceName,selectedRows:e.selectedRows,titleVal:e.deletetitle,ontoggle:function(){f({target:{value:"Delete"}})},onClickSubmit:e.onClickSubmit,onResetSelection:e.onResetSelection,onSelectDropDown:e.onSelectDropDown}))}},144:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(106),i=a(354),c=a(128),o=a(118),s=a(35),u=a(22),m=a(21),d=a(176),f=a(140),p=a(401),b=a(402),v=a(139),h=(a(177),a(178),{mouseX:null,mouseY:null}),g={Edit:!1,Delete:!1,CSV:!1,Email:!1},y=function(e){var t=e.mouseState,a=e.setMouseState,n=e.setFlag,r=function(e){n((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(u.a)({},e,!0))})),a(h)};return l.a.createElement(p.a,{keepMounted:!0,open:null!==t.mouseY,onClose:r,anchorReference:"anchorPosition",anchorPosition:null!==t.mouseY&&null!==t.mouseX?{top:t.mouseY,left:t.mouseX}:void 0},l.a.createElement(b.a,{onClick:function(){return r("Edit")}},"Edit"),l.a.createElement(b.a,{onClick:function(){return r("Delete")}},"Delete"),l.a.createElement(b.a,{onClick:function(){return r("CSV")}},"ExportCSV"))},j=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),u=o[0],m=o[1],p=Object(n.useState)(h),b=Object(s.a)(p,2),j=b[0],E=b[1],O=Object(n.useState)(!1),S=Object(s.a)(O,2),C=S[0],w=S[1],k=Object(n.useState)(g),D=Object(s.a)(k,2),x=D[0],N=D[1],R=Object(n.useState)(null),V=Object(s.a)(R,2),T=V[0],M=V[1],F=e.makeColumns(e.data[0]),P=Object(v.a)().width;function z(e){return e.columnApi.getAllDisplayedColumns()[0]===e.column}x.CSV&&(T.api.exportDataAsCsv({fileName:e.fileName}),N(g));var A={resizable:!0,headerCheckboxSelection:z,checkboxSelection:z};return l.a.createElement("div",{className:"ag-theme-balham",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},onContextMenu:function(e){e.preventDefault(),w(!1),E(h)}},C?l.a.createElement(y,{mouseState:j,setMouseState:E,setFlag:N}):null,l.a.createElement(d.AgGridReact,{columnDefs:F,defaultColDef:A,rowData:e.data,rowSelection:"multiple",overlayLoadingTemplate:'<span class="ag-overlay-loading-center">Please wait while your rows are loading</span>',overlayNoRowsTemplate:'<span style="padding: 10px; border: 2px solid #444; background: lightgoldenrodyellow;">No Rows To Show</span>',onCellContextMenu:function(e){e.event.preventDefault(),e.node.setSelected(!0),i(e.node.data),m(e.api.getSelectedRows()),N(g),w(!0),E({mouseX:e.event.clientX-2,mouseY:e.event.clientY-4})},onGridReady:function(t){"Manage Clients"!==e.title&&"Manage Insurance Details"!==e.title&&"Manage Term Deposits"!==e.title&&"Manage Transactions"!==e.title&&(P<=800&&("Manage Verticals"===e.title||"Manage SubVerticals"===e.title||"Manage Vendors"===e.title)&&t.api.sizeColumnsToFit(),P>800&&t.api.sizeColumnsToFit()),M(t)}}),x.Edit?l.a.createElement(f.a,Object.assign({rowData:r,editFlag:x.Edit,column:F},e)):x.Delete?l.a.createElement(f.a,Object.assign({selectedRows:u,editFlag:x.Edit,columnDefs:F},e)):null)},E=a(119);t.a=function(e){return l.a.createElement(c.a,{title:e.title,create:!0,breadcrumbs:[{name:e.title,active:!0}],onClick:e.ontoggle},l.a.createElement(E.a,Object.assign({method:"POST",titleVal:e.createtitle,filterComponent:e.filterComponent},e)),e.filterobject?l.a.createElement(r.a,{className:"mb-3"},l.a.createElement(i.a,null,l.a.createElement(o.a,{filterobject:e.filterobject,filtervalue:e.filtervalue,onSelectDropDown:e.onSelectDropDown,onResetSelection:e.onResetSelection}))):null,l.a.createElement(j,{component:e.component,deletetitle:e.deletetitle,data:e.data,disabledelement:e.disabledelement,edittitle:e.edittitle,editComponent:e.editComponent,editform:e.editform,expenseCategory:e.expenseCategory,fileName:e.fileName,filterComponent:e.filterComponent,filterEdit:e.filterEdit,filterobject:e.filterobject,filtervalue:e.filtervalue,keyfield:e.keyfield,schemaValidation:e.schemaValidation,selectRow:e.selectRow,selectionlist:e.selectionlist,serviceName:e.serviceName,title:e.title,updateType:e.updateType,vendorlist:e.vendorlist,onClickSubmit:e.onClickSubmit,makeColumns:e.makeColumns,onResetSelection:e.onResetSelection,onSelectDropDown:e.onSelectDropDown}))}},251:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(15),l=a(1),r=a.n(l),i=a(114),c=["field","form"],o=function(e){var t=e.field,a=(e.form,Object(n.a)(e,c).disabled);return t.name,r.a.createElement("label",null,t.name.toUpperCase(),": ",r.a.createElement(i.a,null)," ",r.a.createElement("input",Object.assign({type:"text"},t,{disabled:a})),r.a.createElement(i.a,null))}},252:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(15),l=a(1),r=a.n(l),i=a(114),c=["field","form"],o=function(e){var t=e.field;e.form,Object(n.a)(e,c);return t.name,r.a.createElement("label",null,t.name.toUpperCase(),": ",r.a.createElement(i.a,null)," ",r.a.createElement("input",Object.assign({type:"text",disabled:!t.name.startsWith("new")},t)),r.a.createElement(i.a,null))}},415:function(e,t,a){"use strict";a.r(t);var n=a(120),l=a.n(n),r=a(121),i=a(21),c=a(35),o=a(1),s=a.n(o),u=a(174),m={company:""},d=u.e().shape({company:u.f().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),f=function(){return["vertical","sub-vertical","vendor","company"].map((function(e){return{field:e,headerName:e.toUpperCase(),filter:!0,sortable:!0,resizable:!0}}))},p={Verticals:{list:[],title:"Select Vertical",childType:"Sub-Verticals"},"Sub-Verticals":{list:[],title:"Select SubVertical",childType:"Vendors"},Vendors:{list:[],title:"Select Vendor"}},b=a(144),v=a(251),h=a(252),g=a(125);t.default=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],u=Object(o.useState)([]),y=Object(c.a)(u,2),j=y[0],E=y[1],O=Object(o.useState)(p),S=Object(c.a)(O,2),C=S[0],w=S[1],k=Object(o.useState)(""),D=Object(c.a)(k,2),x=D[0],N=D[1],R=Object(o.useState)(Object.keys(C).reduce((function(e,t){return e[t]=C[t].title,e}),{})),V=Object(c.a)(R,2),T=V[0],M=V[1];Object(o.useEffect)((function(){(function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)("managecompanydata",t);case 2:a=e.sent,E(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(T)}),[T]),Object(o.useEffect)((function(){(function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Vendors"===x){e.next=2;break}return e.abrupt("return",Object(g.c)(x,T,w));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[T,x]);var F=function(){N("ResetFlag"),M(Object.keys(C).reduce((function(e,t){return e[t]=C[t].title,e}),{}))},P={component:v.a,createtitle:"Add Company",data:j,deletetitle:"Delete Company",editComponent:h.a,edittitle:"Edit Company",fileName:"Company",formik:!0,filterComponent:!0,filterobject:C,filtervalue:T,initialState:m,keyfield:"company",makeColumns:f,open:a,schemaValidation:d,selectRow:!1,serviceName:"managecompanydata",title:"Manage Company",updateType:!0,ontoggle:function(){n(!a)},onClickSubmit:function(){F()},onResetSelection:F,onSelectDropDown:function(e){var t=Object.keys(e)[0];N(t),M((function(a){for(var n=C[t].childType||"",l=Object(i.a)({},a);n;)l[n]=C[n].title,n=C[n].childType||"";return Object(i.a)(Object(i.a)({},l),e)}))}};return s.a.createElement(b.a,P)}}}]);
//# sourceMappingURL=13.841adb88.chunk.js.map