(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[19],{114:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n,r=a(126),l=a(127).a.div(n||(n=Object(r.a)(["\n  width:10px;\n  height:auto;\n  display:inline-block;\n}"])))},115:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o}));var n=a(21),r=a(1),l=a.n(r),c=a(170),i=a(171),u={control:function(e){return Object(n.a)(Object(n.a)({},e),{},{width:150})},container:function(e){return Object(n.a)(Object(n.a)({},e),{},{display:"inline-block",textAlign:"left"})}},s=function(e){return l.a.createElement(i.a,{isMulti:e.isMulti,styles:u,value:e.value,onChange:e.onSelect,options:e.list.map((function(e){return{value:e,label:e}})),isDisabled:e.isDisabled,isClearable:e.isClearable})},o=function(e){return l.a.createElement(c.a,{isClearable:!0,styles:u,value:e.value,onChange:e.onSelect,options:e.list.map((function(e){return{value:e,label:e}})),isDisabled:e.isDisabled})}},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return s}));var n=a(21),r=a(120),l=a.n(r),c=a(121),i=function(){var e=Object(c.a)(l.a.mark((function e(t,a){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(JSON.stringify(a)),e.next=3,fetch("http://localhost:9080/api/"+t+"?filterValue="+n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(l.a.mark((function e(t,a){var n,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent(JSON.stringify(a)),e.next=3,fetch("http://localhost:9080/api/"+t+"?filterValue="+n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,i=c.map((function(e){return Object.values(e)[0]})),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(l.a.mark((function e(t,a,r){var c,u,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c="",u=[],s=[],o="",console.log(t),e.t0=t,e.next="Verticals"===e.t0?8:"Sub-Verticals"===e.t0?14:"Vendors"===e.t0?20:"Branch"===e.t0?26:32;break;case 8:return c="Sub-Verticals",e.next=11,i("managesubverticaldata",a);case 11:return u=e.sent,o="sub-vertical",e.abrupt("break",37);case 14:return c="Vendors",e.next=17,i("managevendordata",a);case 17:return u=e.sent,o="vendor",e.abrupt("break",37);case 20:return c="Company",e.next=23,i("managecompanydata",a);case 23:return u=e.sent,o="company",e.abrupt("break",37);case 26:return c="Branch",e.next=29,i("managebranchdata");case 29:return u=e.sent,o="branch",e.abrupt("break",37);case 32:return c="Verticals",e.next=35,i("manageverticaldata",a);case 35:u=e.sent,o="vertical";case 37:s=u.map((function(e){return e[o]})),r((function(e){var t=Object(n.a)({},e);t[c]=Object(n.a)(Object(n.a)({},t[c]),{},{list:s});for(var a=t[c].childType;a;)t[a]=Object(n.a)(Object(n.a)({},t[a]),{},{list:[]}),a=t[a].child||null;return t}));case 39:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},128:function(e,t,a){"use strict";var n=a(15),r=a(126),l=a(1),c=a.n(l),i=a(21),u=a(0),s=a.n(u),o=(Object(i.a)(Object(i.a)({},s.a),{},{ID:s.a.oneOfType([s.a.string,s.a.number]).isRequired,component:s.a.oneOfType([s.a.string,s.a.func]),date:s.a.oneOfType([s.a.instanceOf(Date),s.a.string])}),a(19)),m=a(22),p=a(3),f=a.n(p),d=["tag","className","type"],b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"},v=function(e){var t,a=e.tag,r=e.className,l=e.type,i=Object(n.a)(e,d),u=f()(Object(m.a)({},l,!!l),r);return t=a||(!a&&b[l]?b[l]:"p"),c.a.createElement(t,Object.assign({},i,{className:u}))};v.defaultProps={type:"p"};var h,y=v,E=a(127),g=a(97),O=a(98),j=a(95),S=a(6),k=["title","create","breadcrumbs","onClick","tag","className","children"],w=o.a.create("page"),x=E.a.div(h||(h=Object(r.a)(["\n  display: inline-block;\n"]))),C=function(e){var t=e.title,a=e.create,r=(e.breadcrumbs,e.onClick),l=e.tag,i=e.className,u=e.children,s=Object(n.a)(e,k),o=w.b("px-3",i);return c.a.createElement(l,Object.assign({className:o},s),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement(x,{className:w.e("header")},c.a.createElement(g.a,{light:!0,expand:!0},c.a.createElement(O.a,{navbar:!0,className:"mr-2"},c.a.createElement(j.a,{outline:!0,onClick:function(e){e.preventDefault(),e.stopPropagation(),document.querySelector(".cr-sidebar").classList.toggle("cr-sidebar--open")}},c.a.createElement(S.d,{size:25}))))),c.a.createElement(x,{className:w.e("header")},t&&"string"===typeof t?c.a.createElement(y,{type:"h4",className:w.e("title")},t):t),a?c.a.createElement(x,null,c.a.createElement(j.a,{color:"primary",value:"Create",onClick:r},"Create")):c.a.createElement("div",null)),u)};C.defaultProps={tag:"div",title:""};t.a=C},269:function(e,t,a){"use strict";var n=a(30);var r=a(37);function l(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return l}))},400:function(e,t,a){"use strict";a.r(t),a.d(t,"DocUpload",(function(){return w}));var n=a(21),r=a(120),l=a.n(r),c=a(121),i=a(269),u=a(35),s=a(15),o=a(1),m=a.n(o),p=a(129),f=a.n(p),d=a(174),b=a(95),v=a(128),h=a(115),y=a(172),E=a(114),g=a(125),O=["field","form"],j=function(e){var t=e.fileObject,a=e.onClickDelete,n=e.onSubmit,r=e.submitFlag;return t.length<=0?null:m.a.createElement(m.a.Fragment,null,m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("thead",null,m.a.createElement("tr",null,Object.keys(t[0]).map((function(e){return"file"!==e&&"createdatetime"!==e?m.a.createElement("th",{style:{width:"25%"},key:e},e):null})),m.a.createElement("th",null))),m.a.createElement("tbody",null,t.map((function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,e.name),m.a.createElement("td",null,e.pan),m.a.createElement("td",null,e.category),m.a.createElement("td",null,e.filename),m.a.createElement("td",null,m.a.createElement("button",{value:t,onClick:a,className:"clearfile"},"x")))})))),m.a.createElement("div",{style:{height:"20px"}}),m.a.createElement(b.a,{color:"primary",type:"submit",onClick:n,disabled:r},"Submit"))},S=m.a.createRef(),k=function(e){var t=e.field,a=e.form,n=Object(s.a)(e,O);switch(t.name){case"category":return m.a.createElement("label",null,t.name.toUpperCase(),": ",m.a.createElement(E.a,null),m.a.createElement(h.a,{isMulti:!1,list:n.category,value:{label:t.value,value:t.value},onSelect:function(e){e?a.setFieldValue(t.name,e.value):a.setFieldValue(t.name,""),a.setFieldValue("createdatetime",f()().toISOString())}}),m.a.createElement(E.a,null));case"clientname":return m.a.createElement("label",null,t.name.toUpperCase(),": ",m.a.createElement(E.a,null),m.a.createElement(h.b,{isMulti:!1,list:n.selectionlist[t.name],value:{label:t.value,value:t.value},onSelect:function(e){a.resetForm(),S.current.value="",a.setFieldValue(t.name,e.value)}}),m.a.createElement(E.a,null));case"pan":return m.a.createElement("label",null,t.name.toUpperCase(),": ",m.a.createElement(E.a,null),m.a.createElement(h.b,{isMulti:!1,list:n.selectionlist[t.name][a.values.clientname]?n.selectionlist[t.name][a.values.clientname]:[],value:{label:t.value,value:t.value},onSelect:function(e){a.setFieldValue(t.name,e.value)}}),m.a.createElement(E.a,null));case"filename":return m.a.createElement("label",null,m.a.createElement(E.a,null)," ",m.a.createElement("input",{type:"file",ref:S,onChange:function(e){a.setFieldValue(t.name,e.currentTarget.files[0])}}),m.a.createElement(E.a,null));case"createdatetime":return m.a.createElement("span",null)}},w=function(){var e=["clientname","pan","category","filename","createdatetime"],t=Object(o.useState)({clientname:[],pan:{}}),a=Object(u.a)(t,2),r=a[0],s=a[1],p=Object(o.useState)([]),f=Object(u.a)(p,2),h=f[0],E=f[1],O=Object(o.useState)([]),w=Object(u.a)(O,2),x=w[0],C=w[1],V=Object(o.useState)(!1),D=Object(u.a)(V,2),N=D[0],F=D[1];Object(o.useEffect)((function(){(function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)("managemiscdata",{type:"documentcategory"});case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]);return Object(o.useEffect)((function(){(function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)("managemiscdata",{type:"pan"});case 2:t=e.sent,a=[],r={},t.map((function(e){a.push(e.name),r[e.name]||(r[e.name]=[]),r[e.name].push(e.pan)}),[]),s((function(e){return Object(n.a)(Object(n.a)({},e),{},{clientname:a,pan:r})}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),m.a.createElement(v.a,{title:"Upload Documents",breadcrumbs:[{name:"Upload Documents",active:!0}]},m.a.createElement("div",{style:{alignSelf:"center",height:"100%"}},m.a.createElement(y.d,{initialValues:{clientname:"Select...",pan:"Select...",category:"Select...",filename:void 0},validationSchema:d.e().shape({filename:d.c().required(),clientname:d.f().required(),pan:d.f().required().notOneOf(["Select..."]),category:d.f().required()}),onSubmit:function(e,t){var a=t.setSubmitting;S.current.value="",C((function(t){return[].concat(Object(i.a)(t),[{name:e.clientname,pan:e.pan,category:e.category,filename:e.filename.name,file:e.filename,createdatetime:e.createdatetime}])})),a(!0)}},(function(t){var a=t.errors,n=t.dirty;return m.a.createElement(y.c,null,e.map((function(e){return m.a.createElement("div",{key:e,style:{display:"inline-block",height:"100%"}},m.a.createElement(y.a,{name:e,render:function(e){return m.a.createElement("div",{style:{fontSize:"0.5em",color:"red",width:"200px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},e)}}),m.a.createElement(y.b,{name:e,component:k,selectionlist:r,category:h}))})),m.a.createElement("br",null),m.a.createElement("div",null,m.a.createElement(b.a,{color:"primary",type:"submit",disabled:Object.keys(a).length>0||!n},"Add")))})),m.a.createElement("div",{style:{height:"100px"}}),m.a.createElement(j,{fileObject:x,onClickDelete:function(e){var t=e.target.value;C((function(e){var a=e;return a.splice(t,1),Object(i.a)(a)}))},onSubmit:function(){F(!0);var e=new FormData;x.map((function(t){e.append("file",t.file),e.append("filename",t.filename),e.append("category",t.category),e.append("clientname",t.name),e.append("pan",t.pan),e.append("createdatetime",t.createdatetime)})),fetch("http://localhost:9080/doc/docupload",{method:"POST",body:e}).then((function(e){e.status>=200&&e.status<300?(alert("Form Submitted successfully"),C([]),F(!1)):(e.json().then((function(e){return alert("There was an error, please try again, ".concat(e.reason))})),F(!1))})).catch((function(e){alert("There was an error, please try again, ".concat(e)),F(!1)}))},submitFlag:N})))};t.default=w}}]);
//# sourceMappingURL=19.fc10d599.chunk.js.map